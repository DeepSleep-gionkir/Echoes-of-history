국가 간의 복잡한 외교 관계(동맹, 전쟁, 속국 등)를 한눈에 보여주는 것은 전략 게임의 필수 요소입니다.

하지만 1인 개발자가 문명(Civilization)이나 크루세이더 킹즈(CK)처럼 화려한 UI를 다 만들기는 벅찹니다. 대신, **[시각적 오버레이(Visual Overlay)]**와 **[네트워크 그래프]** 방식을 활용하면 개발 비용 대비 효과가 아주 좋습니다.

유저가 세계 정세를 직관적으로 파악할 수 있는 3가지 방법을 제안합니다.

---

### **1. 맵 오버레이 (Map Filters) - "색깔로 구분하기"**

가장 기본적이고 직관적인 방법입니다. 화면 우측 하단에 **[필터 버튼]**을 둡니다. 버튼을 누르면 3D 맵의 타일 색상이 플레이어와의 관계에 따라 바뀝니다.

#### **필터 모드 종류**

1.  **정치 모드 (Political - 기본):**
    - 각 나라의 고유 색상(빨강, 파랑, 초록 등)으로 영토 표시. 국경선 강조.
2.  **외교 모드 (Diplomatic):**
    - **나(Player):** <span style="color:white; background-color:blue">파란색</span>
    - **동맹(Ally):** <span style="color:white; background-color:green">초록색</span>
    - **적국(War):** <span style="color:white; background-color:red">빨간색</span>
    - **무역 파트너:** <span style="color:white; background-color:orange">주황색</span>
    - **중립:** 회색
    - _효과:_ 버튼 하나만 누르면 "아, 내가 포위당했구나"를 0.1초 만에 파악 가능.
3.  **혼돈 모드 (Instability - 옵션):**
    - 내부 반란이나 파벌 갈등이 심한 지역을 **검게 타오르는 효과**로 표시.
    - 약한 고리를 찾아 공격할 때 유용.

**[개발 팁 (Three.js)]**

- 타일 색상을 매번 새로 칠하는 게 아니라, 쉐이더(Shader)나 재질(Material) 색상만 살짝 바꿔주면 렉 없이 즉시 전환됩니다.

---

### **2. 관계선 시각화 (Connection Lines) - "누가 누구랑 친해?"**

타국을 클릭했을 때, 그 나라를 중심으로 한 **국제 관계망**을 3D 선으로 보여줍니다.

#### **작동 방식**

1.  플레이어가 맵에서 **'A국가'**를 클릭함.
2.  A국가 수도에서 다른 나라 수도로 **아치형 선(Arc)**이 연결됨.
3.  **선의 종류:**
    - **실선 (초록):** 동맹 관계.
    - **번개 모양/점선 (빨강):** 전쟁 중.
    - **노란 실선:** 무역 협정 체결 중.

#### **정보의 제한 (Fog of War)**

- 모든 관계가 보이지는 않습니다.
- **공개된 조약:** 누구나 확인 가능.
- **비밀 조약 (Secret Pact):** A국가와 B국가가 몰래 맺은 동맹은 **첩보 레벨(Authority)**이 높아야만 선이 보입니다.

---

### **3. 세계 정세 대시보드 (Global Status Board)**

맵 밖에서 텍스트와 아이콘으로 확인하는 방법입니다.

#### **① 국제 뉴스 피드 (The Ticker)**

화면 하단에 증권 시장 전광판처럼 흘러가는 텍스트입니다.

- _"[속보] A국과 B국, 상호 방위 조약 체결... [전쟁] C제국, D공화국에 선전포고..."_
- 클릭하면 해당 위치로 카메라 이동.

#### **② 외교 매트릭스 (Diplomacy Matrix) - _간소화 버전_**

유저가 많으면 표(Matrix)가 너무 커지므로, **[나를 중심으로 한 리스트]**로 보여줍니다.

> **[🌍 외교 현황판]**
>
> - **🛡️ 나의 동맹 (Allies):**
>   - 🇬🇧 영국 (무역 중)
>   - 🇫🇷 프랑스 (방위 조약)
> - **⚔️ 나의 적 (Enemies):**
>   - 🇩🇪 독일 (전쟁 중 - 3턴째)
>   - 🇷🇺 러시아 (비난함)
> - **🕊️ 중립국 (Neutral):**
>   - (리스트...)

#### **③ 둠스데이 시계 (Doomsday Clock)**

서버의 전체적인 **긴장도(Global Tension)**를 시각화한 UI입니다. 상단 HUD 중앙에 배치합니다.

- **평화로울 때:** 시계바늘이 자정에서 멀고, 배경이 푸른색.
- **전쟁이 많을 때:** 시계바늘이 자정(12시)에 가깝고, 배경이 붉게 물들며 경보음 아이콘이 뜸.
- _기능:_ 이 시계가 12시가 되면 **[글로벌 위기(재앙)]**가 터진다는 것을 직관적으로 암시.

---

### **개발 로드맵에 반영 (Implementation)**

이 기능들은 **[Part 7. UX/UI]** 단계에서 구현하면 됩니다.

1.  **DB:** `relations` 테이블이 필요합니다.
    - `user_id_1`, `user_id_2`, `type` ('alliance', 'war', 'trade'), `start_date`
2.  **API:** `GET /relations` 호출 시, 현재 맺어진 모든 조약 정보를 JSON으로 받아옵니다.
3.  **Frontend:**
    - 받아온 데이터를 기반으로 Three.js에서 `Line`을 그리거나 타일 색(`Mesh.material.color`)을 변경합니다.

이 정도만 있어도 유저는 "지금 세상이 어떻게 돌아가는지" 충분히 파악할 수 있으며, 특히 **'둠스데이 시계'** 같은 장치는 게임의 분위기를 한층 살려줄 것입니다.
